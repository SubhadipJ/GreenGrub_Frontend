<div class="container">
  <div class="food-card">

    <h2>Create a Food Item</h2>

    <form class="form" (ngSubmit)="onSubmit()" #foodForm="ngForm">

      <!-- Food Name -->
      <div class="form-group">
        <label for="name">Food Name *</label>
        <input id="name" name="name" type="text"
               [(ngModel)]="food.name" required />
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="desc">Description</label>
        <textarea id="desc" name="desc" rows="3"
                  [(ngModel)]="food.desc"></textarea>
      </div>

      <!-- Quantity & Unit -->
      <div class="form-row">
        <div class="form-group half">
          <label for="quantity">Quantity *</label>
          <input id="quantity" name="quantity" type="number"
                 [(ngModel)]="food.quantity" min="0" required />
        </div>
        <div class="form-group half">
          <label for="unit">Unit *</label>
          <select id="unit" name="unit" [(ngModel)]="food.unit" required>
            <option value="kg">Kilogram (kg)</option>
            <option value="serving">Serving</option>
          </select>
        </div>
      </div>

      <!-- Food Type -->
      <div class="form-group">
        <label>Food Type *</label>
        <div class="food-type-picker">
          <button type="button"
                  *ngFor="let t of foodTypes"
                  [class.selected]="food.foodType === t.value"
                  (click)="selectFoodType(t.value)">
            {{ t.label }}
          </button>
        </div>
      </div>

    <!-- Prepare & Expiry Date -->
      <div class="form-row date-row">
        <div class="form-group half">
          <label for="prepareDate">Prepare Date *</label>
          <input id="prepareDate" name="prepareDate" type="date"
                 [(ngModel)]="food.prepareDate" required />
        </div>
        <div class="form-group half">
          <label for="expiryDate">Expiry Date *</label>
          <input id="expiryDate" name="expiryDate" type="date"
                 [(ngModel)]="food.expiryDate" required />
        </div>
      </div>

      <!-- Image Upload -->
      <div class="form-group">
        <label>Images</label>
        <input type="file" multiple accept="image/*"
               (change)="onImageSelect($event)" />
      </div>

      <!-- Preview Thumbnails -->
      <div class="preview-container" *ngIf="imagePreviews.length">
        <div class="preview" *ngFor="let img of imagePreviews; let i = index">
          <img [src]="img" alt="Preview" />
          <button type="button" class="remove-btn" (click)="removeImage(i)">
            Ã—
          </button>
        </div>
      </div>

      <!-- Submit -->
      <div class="button-row">
        <button type="submit" class="save-btn">Add Food</button>
      </div>

    </form>
  </div>
</div>
